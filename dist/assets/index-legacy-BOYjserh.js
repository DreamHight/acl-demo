System.register(["./index-legacy-CEYQ8_qR.js","./use-scope-id-legacy-BEJGkPEQ.js"],(function(e,t){"use strict";var a,i,l,o,n,u,v,r,s,c,h,d,p,f,g,w,m,y,x,b,z,C,S,M,$,T,X,D,I;return{setters:[e=>{a=e.d,i=e.z,l=e.P,o=e.Q,n=e.v,u=e.r,v=e.S,r=e.a0,s=e.T,c=e.j,h=e.az,d=e.o,p=e.a1,f=e.a2,g=e.M,w=e.N,m=e.W,y=e.h,x=e.X,b=e.C,z=e.ao,C=e.ah,S=e.Z,M=e._,$=e.ap,T=e.D,X=e.a9},e=>{D=e.a,I=e.u}],execute:function(){const[t,O]=n("swipe"),P={loop:i,width:o,height:o,vertical:Boolean,autoplay:l(0),duration:l(500),touchable:i,lazyRender:Boolean,initialSwipe:l(0),indicatorColor:String,showIndicators:i,stopPropagation:i},Y=Symbol(t);var j=a({name:t,props:P,emits:["change","dragStart","dragEnd"],setup(e,{emit:t,slots:a}){const i=u(),l=u(),o=v({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let n=!1;const T=D(),{children:X,linkChildren:P}=r(Y),j=s((()=>X.length)),k=s((()=>o[e.vertical?"height":"width"])),E=s((()=>e.vertical?T.deltaY.value:T.deltaX.value)),B=s((()=>o.rect?(e.vertical?o.rect.height:o.rect.width)-k.value*j.value:0)),R=s((()=>k.value?Math.ceil(Math.abs(B.value)/k.value):j.value)),W=s((()=>j.value*k.value)),A=s((()=>(o.active+j.value)%j.value)),F=s((()=>{const t=e.vertical?"vertical":"horizontal";return T.direction.value===t})),H=s((()=>{const t={transitionDuration:`${o.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+o.offset.toFixed(2)}px)`};if(k.value){const a=e.vertical?"height":"width",i=e.vertical?"width":"height";t[a]=`${W.value}px`,t[i]=e[i]?`${e[i]}px`:""}return t})),N=(t,a=0)=>{let i=t*k.value;e.loop||(i=Math.min(i,-B.value));let l=a-i;return e.loop||(l=z(l,B.value,0)),l},Q=({pace:a=0,offset:i=0,emitChange:l})=>{if(j.value<=1)return;const{active:n}=o,u=(t=>{const{active:a}=o;return t?e.loop?z(a+t,-1,j.value):z(a+t,0,R.value):a})(a),v=N(u,i);if(e.loop){if(X[0]&&v!==B.value){const e=v<B.value;X[0].setOffset(e?W.value:0)}if(X[j.value-1]&&0!==v){const e=v>0;X[j.value-1].setOffset(e?-W.value:0)}}o.active=u,o.offset=v,l&&u!==n&&t("change",A.value)},Z=()=>{o.swiping=!0,o.active<=-1?Q({pace:j.value}):o.active>=j.value&&Q({pace:-j.value})},_=()=>{Z(),T.reset(),C((()=>{o.swiping=!1,Q({pace:1,emitChange:!0})}))};let q;const G=()=>clearTimeout(q),J=()=>{G(),+e.autoplay>0&&j.value>1&&(q=setTimeout((()=>{_(),J()}),+e.autoplay))},K=(t=+e.initialSwipe)=>{if(!i.value)return;const a=()=>{var a,l;if(!x(i)){const t={width:i.value.offsetWidth,height:i.value.offsetHeight};o.rect=t,o.width=+(null!=(a=e.width)?a:t.width),o.height=+(null!=(l=e.height)?l:t.height)}j.value&&-1===(t=Math.min(j.value-1,t))&&(t=j.value-1),o.active=t,o.swiping=!0,o.offset=N(t),X.forEach((e=>{e.setOffset(0)})),J()};x(i)?b().then(a):a()},L=()=>K(o.active);let U;const V=t=>{!e.touchable||t.touches.length>1||(T.start(t),n=!1,U=Date.now(),G(),Z())},ee=()=>{if(!e.touchable||!o.swiping)return;const a=Date.now()-U,i=E.value/a;if((Math.abs(i)>.25||Math.abs(E.value)>k.value/2)&&F.value){const t=e.vertical?T.offsetY.value:T.offsetX.value;let a=0;a=e.loop?t>0?E.value>0?-1:1:0:-Math[E.value>0?"ceil":"floor"](E.value/k.value),Q({pace:a,emitChange:!0})}else E.value&&Q({pace:0});n=!1,o.swiping=!1,t("dragEnd",{index:A.value}),J()},te=(t,a)=>{const i=a===A.value,l=i?{backgroundColor:e.indicatorColor}:void 0;return y("i",{style:l,class:O("indicator",{active:i})},null)};return I({prev:()=>{Z(),T.reset(),C((()=>{o.swiping=!1,Q({pace:-1,emitChange:!0})}))},next:_,state:o,resize:L,swipeTo:(t,a={})=>{Z(),T.reset(),C((()=>{let i;i=e.loop&&t===j.value?0===o.active?0:t:t%j.value,a.immediate?C((()=>{o.swiping=!1})):o.swiping=!1,Q({pace:i-o.active,emitChange:!0})}))}}),P({size:k,props:e,count:j,activeIndicator:A}),c((()=>e.initialSwipe),(e=>K(+e))),c(j,(()=>K(o.active))),c((()=>e.autoplay),J),c([S,M,()=>e.width,()=>e.height],L),c(h(),(e=>{"visible"===e?J():G()})),d(K),p((()=>K(o.active))),f((()=>K(o.active))),g(G),w(G),m("touchmove",(a=>{e.touchable&&o.swiping&&(T.move(a),F.value)&&(!e.loop&&(0===o.active&&E.value>0||o.active===j.value-1&&E.value<0)||($(a,e.stopPropagation),Q({offset:E.value}),n||(t("dragStart",{index:A.value}),n=!0)))}),{target:l}),()=>{var t;return y("div",{ref:i,class:O()},[y("div",{ref:l,style:H.value,class:O("track",{vertical:e.vertical}),onTouchstartPassive:V,onTouchend:ee,onTouchcancel:ee},[null==(t=a.default)?void 0:t.call(a)]),a.indicator?a.indicator({active:A.value,total:j.value}):e.showIndicators&&j.value>1?y("div",{class:O("indicators",{vertical:e.vertical})},[Array(j.value).fill("").map(te)]):void 0])}}});e("S",T(j));const[k,E]=n("swipe-item");var B=a({name:k,setup(e,{slots:t}){let a;const i=v({offset:0,inited:!1,mounted:!1}),{parent:l,index:o}=X(Y);if(!l)return;const n=s((()=>{const e={},{vertical:t}=l.props;return l.size.value&&(e[t?"height":"width"]=`${l.size.value}px`),i.offset&&(e.transform=`translate${t?"Y":"X"}(${i.offset}px)`),e})),u=s((()=>{const{loop:e,lazyRender:t}=l.props;if(!t||a)return!0;if(!i.mounted)return!1;const n=l.activeIndicator.value,u=l.count.value-1,v=0===n&&e?u:n-1,r=n===u&&e?0:n+1;return a=o.value===n||o.value===v||o.value===r,a}));return d((()=>{b((()=>{i.mounted=!0}))})),I({setOffset:e=>{i.offset=e}}),()=>{var e;return y("div",{class:E(),style:n.value},[u.value?null==(e=t.default)?void 0:e.call(t):null])}}});e("a",T(B))}}}));
