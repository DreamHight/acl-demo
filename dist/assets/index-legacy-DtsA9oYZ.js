System.register(["./Container.vue_vue_type_script_setup_true_lang-legacy-_IhsUEiJ.js","./index-legacy-CEYQ8_qR.js","./index-legacy-CA1Cpg7u.js","./index-legacy-thrsW4a0.js","./index-legacy-Cg0MrDfB.js","./use-scope-id-legacy-BEJGkPEQ.js","./index-legacy-8oNlnaCn.js","./use-route-legacy-D9DwTxZW.js","./interceptor-legacy-DIcPwnYS.js"],(function(e,l){"use strict";var t,o,n,a,i,u,s,c,r,d,v,m,p,h,f,g,b,x,y,k,w,C,V,H,O,S,T,j,B,D,I,_,M,N,P,z,$,A,E,U,q,F,L,G,Q,W,Y,J,K,R,X,Z;return{setters:[e=>{t=e._},e=>{o=e.v,n=e.q,a=e.a4,i=e.ao,u=e.d,s=e.$,c=e.B,r=e.Q,d=e.r,v=e.T,m=e.a9,p=e.aa,h=e.W,f=e.h,g=e.ap,b=e.H,x=e.z,y=e.P,k=e.a0,w=e.U,C=e.j,V=e.C,H=e.y,O=e.x,S=e.A,T=e.aq,j=e.ar,B=e.D,D=e.ad,I=e.ak,_=e.a3,M=e.al,N=e.i,P=e.m,z=e.as,$=e.at,A=e.c,E=e.a,U=e.w,q=e.l,F=e.b,L=e.au,G=e.av,Q=e.aw,W=e.ax},e=>{Y=e.C,J=e.a},null,e=>{K=e.L},e=>{R=e.a,X=e.u},e=>{Z=e.P},null,null],execute:function(){const[l,ee,le]=o("picker"),te=e=>e.find((e=>!e.disabled))||e[0];function oe(e,l){for(let t=l=i(l,0,e.length);t<e.length;t++)if(!e[t].disabled)return t;for(let t=l-1;t>=0;t--)if(!e[t].disabled)return t;return 0}const ne=(e,l,t)=>void 0!==l&&!!e.find((e=>e[t.value]===l));function ae(e,l,t){const o=e.findIndex((e=>e[t.value]===l));return e[oe(e,o)]}const[ie,ue]=o("picker-column"),se=Symbol(ie);var ce=u({name:ie,props:{value:r,fields:s(Object),options:c(),readonly:Boolean,allowHtml:Boolean,optionHeight:s(Number),swipeDuration:s(r),visibleOptionNum:s(r)},emits:["change","clickOption","scrollInto"],setup(e,{emit:l,slots:t}){let o,n,a,u,s;const c=d(),r=d(),b=d(0),x=d(0),y=R(),k=()=>e.options.length,w=()=>e.optionHeight*(+e.visibleOptionNum-1)/2,C=t=>{let n=oe(e.options,t);const a=-n*e.optionHeight,i=()=>{n>k()-1&&(n=oe(e.options,t));const o=e.options[n][e.fields.value];o!==e.value&&l("change",o)};o&&a!==b.value?s=i:i(),b.value=a},V=()=>e.readonly||!e.options.length,H=l=>i(Math.round(-l/e.optionHeight),0,k()-1),O=v((()=>H(b.value))),S=()=>{o=!1,x.value=0,s&&(s(),s=null)},T=e=>{if(!V()){if(y.start(e),o){const e=function(e){const{transform:l}=window.getComputedStyle(e),t=l.slice(7,l.length-1).split(", ")[5];return Number(t)}(r.value);b.value=Math.min(0,e-w())}x.value=0,n=b.value,a=Date.now(),u=n,s=null}},j=()=>{if(V())return;const l=b.value-u,t=Date.now()-a;if(t<300&&Math.abs(l)>15)return void((l,t)=>{const o=Math.abs(l/t);l=b.value+o/.003*(l<0?-1:1);const n=H(l);x.value=+e.swipeDuration,C(n)})(l,t);const n=H(b.value);x.value=200,C(n),setTimeout((()=>{o=!1}),0)},B=()=>{const n={height:`${e.optionHeight}px`};return e.options.map(((a,i)=>{const u=a[e.fields.text],{disabled:c}=a,r=a[e.fields.value],d={role:"button",style:n,tabindex:c?-1:0,class:[ue("item",{disabled:c,selected:r===e.value}),a.className],onClick:()=>(t=>{o||V()||(s=null,x.value=200,C(t),l("clickOption",e.options[t]))})(i)},v={class:"van-ellipsis",[e.allowHtml?"innerHTML":"textContent"]:u};return f("li",d,[t.option?t.option(a,i):f("div",v,null)])}))};return m(se),X({stopMomentum:S}),p((()=>{const l=o?Math.floor(-b.value/e.optionHeight):e.options.findIndex((l=>l[e.fields.value]===e.value)),t=oe(e.options,l),n=-t*e.optionHeight;o&&t<l&&S(),b.value=n})),h("touchmove",(t=>{if(V())return;y.move(t),y.isVertical()&&(o=!0,g(t,!0));const s=i(n+y.deltaY.value,-k()*e.optionHeight,e.optionHeight),c=H(s);c!==O.value&&l("scrollInto",e.options[c]),b.value=s;const r=Date.now();r-a>300&&(a=r,u=s)}),{target:c}),()=>f("div",{ref:c,class:ue(),onTouchstartPassive:T,onTouchend:j,onTouchcancel:j},[f("ul",{ref:r,style:{transform:`translate3d(0, ${b.value+w()}px, 0)`,transitionDuration:`${x.value}ms`,transitionProperty:x.value?"all":"none"},class:ue("wrapper"),onTransitionend:S},[B()])])}});const[re]=o("picker-toolbar"),de={title:String,cancelButtonText:String,confirmButtonText:String},ve=["cancel","confirm","title","toolbar"],me=Object.keys(de);var pe=u({name:re,props:de,emits:["confirm","cancel"],setup(e,{emit:l,slots:t}){const o=()=>l("cancel"),n=()=>l("confirm"),a=()=>{var l;const n=null!=(l=e.cancelButtonText)?l:le("cancel");if(t.cancel||n)return f("button",{type:"button",class:[ee("cancel"),b],onClick:o},[t.cancel?t.cancel():n])},i=()=>{var l;const o=null!=(l=e.confirmButtonText)?l:le("confirm");if(t.confirm||o)return f("button",{type:"button",class:[ee("confirm"),b],onClick:n},[t.confirm?t.confirm():o])};return()=>f("div",{class:ee("toolbar")},[t.toolbar?t.toolbar():[a(),t.title?t.title():e.title?f("div",{class:[ee("title"),"van-ellipsis"]},[e.title]):void 0,i()]])}});const[he,fe]=o("picker-group"),ge=Symbol(he);n({tabs:c(),activeTab:y(0),nextStepText:String,showToolbar:x},de);const be=n({loading:Boolean,readonly:Boolean,allowHtml:Boolean,optionHeight:y(44),showToolbar:x,swipeDuration:y(1e3),visibleOptionNum:y(6)},de),xe=n({},be,{columns:c(),modelValue:c(),toolbarPosition:S("top"),columnsFieldNames:Object});var ye=u({name:l,props:xe,emits:["confirm","cancel","change","scrollInto","clickOption","update:modelValue"],setup(e,{emit:l,slots:t}){const o=d(),i=d(e.modelValue.slice(0)),{parent:u}=m(ge),{children:s,linkChildren:c}=k(se);c();const r=v((()=>function(e){return n({text:"text",value:"value",children:"children"},e)}(e.columnsFieldNames))),p=v((()=>w(e.optionHeight))),b=v((()=>function(e,l){const t=e[0];if(t){if(Array.isArray(t))return"multiple";if(l.children in t)return"cascade"}return"default"}(e.columns,r.value))),x=v((()=>{const{columns:l}=e;switch(b.value){case"multiple":return l;case"cascade":return function(e,l,t){const o=[];let n={[l.children]:e},i=0;for(;n&&n[l.children];){const e=n[l.children],u=t.value[i];n=a(u)?ae(e,u,l):void 0,!n&&e.length&&(n=ae(e,te(e)[l.value],l)),i++,o.push(e)}return o}(l,r.value,i);default:return[l]}})),y=v((()=>x.value.some((e=>e.length)))),S=v((()=>x.value.map(((e,l)=>ae(e,i.value[l],r.value))))),B=v((()=>x.value.map(((e,l)=>e.findIndex((e=>e[r.value.value]===i.value[l])))))),D=(e,l)=>{if(i.value[e]!==l){const t=i.value.slice(0);t[e]=l,i.value=t}},I=()=>({selectedValues:i.value.slice(0),selectedOptions:S.value,selectedIndexes:B.value}),_=()=>{s.forEach((e=>e.stopMomentum()));const e=I();return V((()=>{l("confirm",e)})),e},M=()=>l("cancel",I()),N=()=>x.value.map(((o,a)=>f(ce,{value:i.value[a],fields:r.value,options:o,readonly:e.readonly,allowHtml:e.allowHtml,optionHeight:p.value,swipeDuration:e.swipeDuration,visibleOptionNum:e.visibleOptionNum,onChange:e=>((e,t)=>{D(t,e),"cascade"===b.value&&i.value.forEach(((e,l)=>{const t=x.value[l];ne(t,e,r.value)||D(l,t.length?t[0][r.value.value]:void 0)})),V((()=>{l("change",n({columnIndex:t},I()))}))})(e,a),onClickOption:e=>((e,t)=>{const o={columnIndex:t,currentOption:e};l("clickOption",n(I(),o)),l("scrollInto",o)})(e,a),onScrollInto:e=>{l("scrollInto",{currentOption:e,columnIndex:a})}},{option:t.option}))),P=e=>{if(y.value){const l={height:`${p.value}px`},t={backgroundSize:`100% ${(e-p.value)/2}px`};return[f("div",{class:ee("mask"),style:t},null),f("div",{class:[T,ee("frame")],style:l},null)]}},z=()=>{const l=p.value*+e.visibleOptionNum,n={height:`${l}px`};return e.loading||y.value||!t.empty?f("div",{ref:o,class:ee("columns"),style:n},[N(),P(l)]):t.empty()},$=()=>{if(e.showToolbar&&!u)return f(pe,O(H(e,me),{onConfirm:_,onCancel:M}),H(t,ve))};let A;return C(x,(e=>{e.forEach(((e,l)=>{e.length&&!ne(e,i.value[l],r.value)&&D(l,te(e)[r.value.value])}))}),{immediate:!0}),C((()=>e.modelValue),(e=>{j(e,i.value)||j(e,A)||(i.value=e.slice(0),A=e.slice(0))}),{deep:!0}),C(i,(t=>{j(t,e.modelValue)||(A=t.slice(0),l("update:modelValue",A))}),{immediate:!0}),h("touchmove",g,{target:o}),X({confirm:_,getSelectedOptions:()=>S.value}),()=>{var l,o;return f("div",{class:ee()},["top"===e.toolbarPosition?$():null,e.loading?f(K,{class:ee("loading")},null):null,null==(l=t["columns-top"])?void 0:l.call(t),z(),null==(o=t["columns-bottom"])?void 0:o.call(t),"bottom"===e.toolbarPosition?$():null])}}});const ke=B(ye),[we,Ce]=o("switch"),Ve={size:r,loading:Boolean,disabled:Boolean,modelValue:D,activeColor:String,inactiveColor:String,activeValue:{type:D,default:!0},inactiveValue:{type:D,default:!1}};var He=u({name:we,props:Ve,emits:["change","update:modelValue"],setup(e,{emit:l,slots:t}){const o=()=>e.modelValue===e.activeValue,n=()=>{if(!e.disabled&&!e.loading){const t=o()?e.inactiveValue:e.activeValue;l("update:modelValue",t),l("change",t)}},a=()=>{if(e.loading){const l=o()?e.activeColor:e.inactiveColor;return f(K,{class:Ce("loading"),color:l},null)}if(t.node)return t.node()};return I((()=>e.modelValue)),()=>{var l;const{size:i,loading:u,disabled:s,activeColor:c,inactiveColor:r}=e,d=o(),v={fontSize:_(i),backgroundColor:d?c:r};return f("div",{role:"switch",class:Ce({on:d,loading:u,disabled:s}),style:v,tabindex:s?void 0:0,"aria-checked":d,onClick:n},[f("div",{class:Ce("node")},[a()]),null==(l=t.background)?void 0:l.call(t)])}}});const Oe=B(He);e("default",u({__name:"index",setup(e){const l=M(),o=d(N.value);C((()=>N.value),(e=>{o.value=e}),{immediate:!0});const{t:n}=P(),a=d(!1),i=d([z.value]),u=v((()=>$.find((e=>e.value===z.value)).text));function s(e){z.value=e.selectedOptions[0].value,a.value=!1}const c=v((()=>[{title:n("home.mockGuide"),route:"mock"},{title:n("home.echartsDemo"),route:"charts"},{title:n("home.unocssExample"),route:"unocss"},{title:n("home.persistPiniaState"),route:"counter"},{title:n("home.404Demo"),route:"unknown"},{title:n("home.keepAlive"),route:"keepalive"}]));return(e,r)=>{const d=Oe,v=J,m=ke,p=Z,h=Y,g=t;return E(),A(g,{"padding-x":0},{default:U((()=>[f(h,{inset:""},{default:U((()=>[f(v,{center:"",title:F(n)("home.darkMode")},{"right-icon":U((()=>[f(d,{modelValue:F(o),"onUpdate:modelValue":r[0]||(r[0]=e=>L(o)?o.value=e:null),size:"20px","aria-label":"on/off Dark Mode",onClick:r[1]||(r[1]=e=>(W(),void l.switchMode(N.value?"dark":"light")))},null,8,["modelValue"])])),_:1},8,["title"]),f(v,{"is-link":"",title:F(n)("home.language"),value:F(u),onClick:r[2]||(r[2]=e=>a.value=!0)},null,8,["title","value"]),f(p,{show:F(a),"onUpdate:show":r[5]||(r[5]=e=>L(a)?a.value=e:null),position:"bottom"},{default:U((()=>[f(m,{modelValue:F(i),"onUpdate:modelValue":r[3]||(r[3]=e=>L(i)?i.value=e:null),columns:F($),onConfirm:s,onCancel:r[4]||(r[4]=e=>a.value=!1)},null,8,["modelValue","columns"])])),_:1},8,["show"]),(E(!0),q(G,null,Q(F(c),(e=>(E(),A(v,{key:e.route,title:e.title,to:e.route,"is-link":""},null,8,["title","to"])))),128))])),_:1})])),_:1})}}}))}}}));
