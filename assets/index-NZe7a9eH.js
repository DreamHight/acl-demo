import{_ as J}from"./Container.vue_vue_type_script_setup_true_lang-CGTiEesl.js";import{d as H,Q as _,P as c,z as d,v as X,r as N,T as P,a3 as A,aA as Y,j as I,ak as Z,h as r,ab as y,ai as C,x as R,H as z,aB as $,a4 as G,C as p,aC as ee,ap as B,aD as ae,aE as te,D as ne,c as le,a as ue,w as se,g as ie,t as oe,au as ce,b as de}from"./index-DJ-zFyTp.js";import{c as re}from"./interceptor-B7QC61t0.js";const[me,V]=X("stepper"),fe=200,w=(a,l)=>String(a)===String(l),be={min:c(1),max:c(1/0),name:c(""),step:c(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:d,showMinus:d,showInput:d,longPress:d,autoFixed:d,allowEmpty:Boolean,modelValue:_,inputWidth:_,buttonSize:_,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:c(1),decimalLength:_};var ge=H({name:me,props:be,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(a,{emit:l}){const o=(e,n=!0)=>{const{min:u,max:v,allowEmpty:s,decimalLength:S}=a;return s&&e===""||(e=$(String(e),!a.integer),e=e===""?0:+e,e=Number.isNaN(e)?+u:e,e=n?Math.max(Math.min(+v,e),+u):e,G(S)&&(e=e.toFixed(+S))),e},m=()=>{var e;const n=(e=a.modelValue)!=null?e:a.defaultValue,u=o(n);return w(u,a.modelValue)||l("update:modelValue",u),u};let i;const f=N(),t=N(m()),b=P(()=>a.disabled||a.disableMinus||+t.value<=+a.min),g=P(()=>a.disabled||a.disablePlus||+t.value>=+a.max),K=P(()=>({width:A(a.inputWidth),height:A(a.buttonSize)})),E=P(()=>Y(a.buttonSize)),O=()=>{const e=o(t.value);w(e,t.value)||(t.value=e)},D=e=>{a.beforeChange?re(a.beforeChange,{args:[e],done(){t.value=e}}):t.value=e},T=()=>{if(i==="plus"&&g.value||i==="minus"&&b.value){l("overlimit",i);return}const e=i==="minus"?-a.step:+a.step,n=o(te(+t.value,e));D(n),l(i)},U=e=>{const n=e.target,{value:u}=n,{decimalLength:v}=a;let s=$(String(u),!a.integer);if(G(v)&&s.includes(".")){const F=s.split(".");s="".concat(F[0],".").concat(F[1].slice(0,+v))}a.beforeChange?n.value=String(t.value):w(u,s)||(n.value=s);const S=s===String(+s);D(S?+s:s)},W=e=>{var n;a.disableInput?(n=f.value)==null||n.blur():l("focus",e)},j=e=>{const n=e.target,u=o(n.value,a.autoFixed);n.value=String(u),t.value=u,p(()=>{l("blur",e),ee()})};let x,h;const L=()=>{h=setTimeout(()=>{T(),L()},fe)},q=()=>{a.longPress&&(x=!1,clearTimeout(h),h=setTimeout(()=>{x=!0,T(),L()},ae))},M=e=>{a.longPress&&(clearTimeout(h),x&&B(e))},Q=e=>{a.disableInput&&B(e)},k=e=>({onClick:n=>{B(n),i=e,T()},onTouchstartPassive:()=>{i=e,q()},onTouchend:M,onTouchcancel:M});return I(()=>[a.max,a.min,a.integer,a.decimalLength],O),I(()=>a.modelValue,e=>{w(e,t.value)||(t.value=o(e))}),I(t,e=>{l("update:modelValue",e),l("change",e,{name:a.name})}),Z(()=>a.modelValue),()=>r("div",{role:"group",class:V([a.theme])},[y(r("button",R({type:"button",style:E.value,class:[V("minus",{disabled:b.value}),{[z]:!b.value}],"aria-disabled":b.value||void 0},k("minus")),null),[[C,a.showMinus]]),y(r("input",{ref:f,type:a.integer?"tel":"text",role:"spinbutton",class:V("input"),value:t.value,style:K.value,disabled:a.disabled,readonly:a.disableInput,inputmode:a.integer?"numeric":"decimal",placeholder:a.placeholder,autocomplete:"off","aria-valuemax":a.max,"aria-valuemin":a.min,"aria-valuenow":t.value,onBlur:j,onInput:U,onFocus:W,onMousedown:Q},null),[[C,a.showInput]]),y(r("button",R({type:"button",style:E.value,class:[V("plus",{disabled:g.value}),{[z]:!g.value}],"aria-disabled":g.value||void 0},k("plus")),null),[[C,a.showPlus]])])}});const he=ne(ge),Pe=H({name:"KeepAlive",__name:"index",setup(a){const l=N(1);return(o,m)=>{const i=he,f=J;return ue(),le(f,null,{default:se(()=>[ie("p",null,oe(o.$t("keepAlive.label")),1),r(i,{modelValue:de(l),"onUpdate:modelValue":m[0]||(m[0]=t=>ce(l)?l.value=t:null)},null,8,["modelValue"])]),_:1})}}});export{Pe as default};
