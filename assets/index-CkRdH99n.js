import{_ as Z}from"./Container.vue_vue_type_script_setup_true_lang-CAC1AANL.js";import{d as K,Z as _,Y as c,K as d,E as j,r as C,a0 as V,ac as A,aB as Q,y as x,ap as X,i as r,w as I,v as N,G as R,J as z,aC as $,ad as G,N as p,aD as ee,at as B,aE as te,aF as ae,O as ne,c as le,a as ue,k as se,g as ie,t as oe,ay as ce,b as de}from"./index-Cmt1AcA0.js";import{c as re}from"./interceptor-BPS_mNcs.js";const[me,P]=j("stepper"),fe=200,w=(t,l)=>String(t)===String(l),ge={min:c(1),max:c(1/0),name:c(""),step:c(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:d,showMinus:d,showInput:d,longPress:d,autoFixed:d,allowEmpty:Boolean,modelValue:_,inputWidth:_,buttonSize:_,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:c(1),decimalLength:_};var be=K({name:me,props:ge,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(t,{emit:l}){const o=(e,n=!0)=>{const{min:u,max:v,allowEmpty:s,decimalLength:S}=t;return s&&e===""||(e=$(String(e),!t.integer),e=e===""?0:+e,e=Number.isNaN(e)?+u:e,e=n?Math.max(Math.min(+v,e),+u):e,G(S)&&(e=e.toFixed(+S))),e},m=()=>{var e;const n=(e=t.modelValue)!=null?e:t.defaultValue,u=o(n);return w(u,t.modelValue)||l("update:modelValue",u),u};let i;const f=C(),a=C(m()),g=V(()=>t.disabled||t.disableMinus||+a.value<=+t.min),b=V(()=>t.disabled||t.disablePlus||+a.value>=+t.max),O=V(()=>({width:A(t.inputWidth),height:A(t.buttonSize)})),E=V(()=>Q(t.buttonSize)),U=()=>{const e=o(a.value);w(e,a.value)||(a.value=e)},F=e=>{t.beforeChange?re(t.beforeChange,{args:[e],done(){a.value=e}}):a.value=e},T=()=>{if(i==="plus"&&b.value||i==="minus"&&g.value){l("overlimit",i);return}const e=i==="minus"?-t.step:+t.step,n=o(ae(+a.value,e));F(n),l(i)},W=e=>{const n=e.target,{value:u}=n,{decimalLength:v}=t;let s=$(String(u),!t.integer);if(G(v)&&s.includes(".")){const D=s.split(".");s="".concat(D[0],".").concat(D[1].slice(0,+v))}t.beforeChange?n.value=String(a.value):w(u,s)||(n.value=s);const S=s===String(+s);F(S?+s:s)},q=e=>{var n;t.disableInput?(n=f.value)==null||n.blur():l("focus",e)},H=e=>{const n=e.target,u=o(n.value,t.autoFixed);n.value=String(u),a.value=u,p(()=>{l("blur",e),ee()})};let y,h;const L=()=>{h=setTimeout(()=>{T(),L()},fe)},J=()=>{t.longPress&&(y=!1,clearTimeout(h),h=setTimeout(()=>{y=!0,T(),L()},te))},M=e=>{t.longPress&&(clearTimeout(h),y&&B(e))},Y=e=>{t.disableInput&&B(e)},k=e=>({onClick:n=>{B(n),i=e,T()},onTouchstartPassive:()=>{i=e,J()},onTouchend:M,onTouchcancel:M});return x(()=>[t.max,t.min,t.integer,t.decimalLength],U),x(()=>t.modelValue,e=>{w(e,a.value)||(a.value=o(e))}),x(a,e=>{l("update:modelValue",e),l("change",e,{name:t.name})}),X(()=>t.modelValue),()=>r("div",{role:"group",class:P([t.theme])},[I(r("button",R({type:"button",style:E.value,class:[P("minus",{disabled:g.value}),{[z]:!g.value}],"aria-disabled":g.value||void 0},k("minus")),null),[[N,t.showMinus]]),I(r("input",{ref:f,type:t.integer?"tel":"text",role:"spinbutton",class:P("input"),value:a.value,style:O.value,disabled:t.disabled,readonly:t.disableInput,inputmode:t.integer?"numeric":"decimal",placeholder:t.placeholder,autocomplete:"off","aria-valuemax":t.max,"aria-valuemin":t.min,"aria-valuenow":a.value,onBlur:H,onInput:W,onFocus:q,onMousedown:Y},null),[[N,t.showInput]]),I(r("button",R({type:"button",style:E.value,class:[P("plus",{disabled:b.value}),{[z]:!b.value}],"aria-disabled":b.value||void 0},k("plus")),null),[[N,t.showPlus]])])}});const he=ne(be),Ve=K({name:"KeepAlive",__name:"index",setup(t){const l=C(1);return(o,m)=>{const i=he,f=Z;return ue(),le(f,null,{default:se(()=>[ie("p",null,oe(o.$t("keepAlive.label")),1),r(i,{modelValue:de(l),"onUpdate:modelValue":m[0]||(m[0]=a=>ce(l)?l.value=a:null)},null,8,["modelValue"])]),_:1})}}});export{Ve as default};
