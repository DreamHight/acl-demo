System.register(["./index-legacy-CicJ9xUt.js","./use-scope-id-legacy-BDddvc6y.js"],(function(e,t){"use strict";var a,i,l,o,n,u,r,v,s,c,h,d,p,f,g,w,m,y,x,b,C,S,$,z,M,T,O,Y,E;return{setters:[e=>{a=e.d,i=e.K,l=e.Y,o=e.Z,n=e.E,u=e.r,r=e.$,v=e.a9,s=e.a0,c=e.y,h=e.aA,d=e.o,p=e.aa,f=e.ab,g=e.V,w=e.W,m=e.a3,y=e.i,x=e.a4,b=e.N,C=e.as,S=e.an,$=e.a6,z=e.a7,M=e.at,T=e.O,O=e.ai},e=>{Y=e.a,E=e.u}],execute:function(){const[t,I]=n("swipe"),X={loop:i,width:o,height:o,vertical:Boolean,autoplay:l(0),duration:l(500),touchable:i,lazyRender:Boolean,initialSwipe:l(0),indicatorColor:String,showIndicators:i,stopPropagation:i},k=Symbol(t);var D=a({name:t,props:X,emits:["change","dragStart","dragEnd"],setup(e,{emit:t,slots:a}){const i=u(),l=u(),o=r({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let n=!1;const T=Y(),{children:O,linkChildren:X}=v(k),D=s((()=>O.length)),P=s((()=>o[e.vertical?"height":"width"])),j=s((()=>e.vertical?T.deltaY.value:T.deltaX.value)),A=s((()=>o.rect?(e.vertical?o.rect.height:o.rect.width)-P.value*D.value:0)),B=s((()=>P.value?Math.ceil(Math.abs(A.value)/P.value):D.value)),R=s((()=>D.value*P.value)),W=s((()=>(o.active+D.value)%D.value)),F=s((()=>{const t=e.vertical?"vertical":"horizontal";return T.direction.value===t})),H=s((()=>{const t={transitionDuration:`${o.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+o.offset.toFixed(2)}px)`};if(P.value){const a=e.vertical?"height":"width",i=e.vertical?"width":"height";t[a]=`${R.value}px`,t[i]=e[i]?`${e[i]}px`:""}return t})),K=(t,a=0)=>{let i=t*P.value;e.loop||(i=Math.min(i,-A.value));let l=a-i;return e.loop||(l=C(l,A.value,0)),l},N=({pace:a=0,offset:i=0,emitChange:l})=>{if(D.value<=1)return;const{active:n}=o,u=(t=>{const{active:a}=o;return t?e.loop?C(a+t,-1,D.value):C(a+t,0,B.value):a})(a),r=K(u,i);if(e.loop){if(O[0]&&r!==A.value){const e=r<A.value;O[0].setOffset(e?R.value:0)}if(O[D.value-1]&&0!==r){const e=r>0;O[D.value-1].setOffset(e?-R.value:0)}}o.active=u,o.offset=r,l&&u!==n&&t("change",W.value)},V=()=>{o.swiping=!0,o.active<=-1?N({pace:D.value}):o.active>=D.value&&N({pace:-D.value})},Z=()=>{V(),T.reset(),S((()=>{o.swiping=!1,N({pace:1,emitChange:!0})}))};let q;const G=()=>clearTimeout(q),J=()=>{G(),+e.autoplay>0&&D.value>1&&(q=setTimeout((()=>{Z(),J()}),+e.autoplay))},L=(t=+e.initialSwipe)=>{if(!i.value)return;const a=()=>{var a,l;if(!x(i)){const t={width:i.value.offsetWidth,height:i.value.offsetHeight};o.rect=t,o.width=+(null!=(a=e.width)?a:t.width),o.height=+(null!=(l=e.height)?l:t.height)}D.value&&-1===(t=Math.min(D.value-1,t))&&(t=D.value-1),o.active=t,o.swiping=!0,o.offset=K(t),O.forEach((e=>{e.setOffset(0)})),J()};x(i)?b().then(a):a()},Q=()=>L(o.active);let U;const _=t=>{!e.touchable||t.touches.length>1||(T.start(t),n=!1,U=Date.now(),G(),V())},ee=()=>{if(!e.touchable||!o.swiping)return;const a=Date.now()-U,i=j.value/a;if((Math.abs(i)>.25||Math.abs(j.value)>P.value/2)&&F.value){const t=e.vertical?T.offsetY.value:T.offsetX.value;let a=0;a=e.loop?t>0?j.value>0?-1:1:0:-Math[j.value>0?"ceil":"floor"](j.value/P.value),N({pace:a,emitChange:!0})}else j.value&&N({pace:0});n=!1,o.swiping=!1,t("dragEnd",{index:W.value}),J()},te=(t,a)=>{const i=a===W.value,l=i?{backgroundColor:e.indicatorColor}:void 0;return y("i",{style:l,class:I("indicator",{active:i})},null)};return E({prev:()=>{V(),T.reset(),S((()=>{o.swiping=!1,N({pace:-1,emitChange:!0})}))},next:Z,state:o,resize:Q,swipeTo:(t,a={})=>{V(),T.reset(),S((()=>{let i;i=e.loop&&t===D.value?0===o.active?0:t:t%D.value,a.immediate?S((()=>{o.swiping=!1})):o.swiping=!1,N({pace:i-o.active,emitChange:!0})}))}}),X({size:P,props:e,count:D,activeIndicator:W}),c((()=>e.initialSwipe),(e=>L(+e))),c(D,(()=>L(o.active))),c((()=>e.autoplay),J),c([$,z,()=>e.width,()=>e.height],Q),c(h(),(e=>{"visible"===e?J():G()})),d(L),p((()=>L(o.active))),f((()=>L(o.active))),g(G),w(G),m("touchmove",(a=>{e.touchable&&o.swiping&&(T.move(a),F.value)&&(!e.loop&&(0===o.active&&j.value>0||o.active===D.value-1&&j.value<0)||(M(a,e.stopPropagation),N({offset:j.value}),n||(t("dragStart",{index:W.value}),n=!0)))}),{target:l}),()=>{var t;return y("div",{ref:i,class:I()},[y("div",{ref:l,style:H.value,class:I("track",{vertical:e.vertical}),onTouchstartPassive:_,onTouchend:ee,onTouchcancel:ee},[null==(t=a.default)?void 0:t.call(a)]),a.indicator?a.indicator({active:W.value,total:D.value}):e.showIndicators&&D.value>1?y("div",{class:I("indicators",{vertical:e.vertical})},[Array(D.value).fill("").map(te)]):void 0])}}});e("S",T(D));const[P,j]=n("swipe-item");var A=a({name:P,setup(e,{slots:t}){let a;const i=r({offset:0,inited:!1,mounted:!1}),{parent:l,index:o}=O(k);if(!l)return;const n=s((()=>{const e={},{vertical:t}=l.props;return l.size.value&&(e[t?"height":"width"]=`${l.size.value}px`),i.offset&&(e.transform=`translate${t?"Y":"X"}(${i.offset}px)`),e})),u=s((()=>{const{loop:e,lazyRender:t}=l.props;if(!t||a)return!0;if(!i.mounted)return!1;const n=l.activeIndicator.value,u=l.count.value-1,r=0===n&&e?u:n-1,v=n===u&&e?0:n+1;return a=o.value===n||o.value===r||o.value===v,a}));return d((()=>{b((()=>{i.mounted=!0}))})),E({setOffset:e=>{i.offset=e}}),()=>{var e;return y("div",{class:j(),style:n.value},[u.value?null==(e=t.default)?void 0:e.call(t):null])}}});e("a",T(A))}}}));
