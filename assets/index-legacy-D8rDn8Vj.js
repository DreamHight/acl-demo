System.register(["./Container.vue_vue_type_script_setup_true_lang-legacy-C2D0-zbx.js","./index-legacy-CdCwwgIk.js","./index-legacy-vPfZkiuC.js","./index-legacy-thrsW4a0.js","./index-legacy-z7tzaywF.js","./use-scope-id-legacy-DIMny1NB.js","./index-legacy-ChFt3RnK.js","./use-route-legacy-DPZpTpGF.js","./interceptor-legacy-BEptWkiU.js"],(function(e,l){"use strict";var t,o,n,a,i,u,s,c,r,d,v,m,p,f,h,g,b,y,x,k,w,C,V,O,H,S,T,j,D,I,_,M,N,B,z,P,$,A,E,F,L,U,G,Y,q,J,K,Z,Q,R,W,X;return{setters:[e=>{t=e._},e=>{o=e.E,n=e.D,a=e.ad,i=e.as,u=e.d,s=e.a8,c=e.M,r=e.Z,d=e.r,v=e.a0,m=e.ai,p=e.aj,f=e.a3,h=e.i,g=e.at,b=e.J,y=e.K,x=e.Y,k=e.a9,w=e.a1,C=e.y,V=e.N,O=e.H,H=e.G,S=e.L,T=e.au,j=e.av,D=e.O,I=e.al,_=e.ap,M=e.ac,N=e.aq,B=e.x,z=e.A,P=e.aw,$=e.ax,A=e.c,E=e.a,F=e.k,L=e.f,U=e.b,G=e.ay,Y=e.F,q=e.j,J=e.az},e=>{K=e.C,Z=e.a},null,e=>{Q=e.L},e=>{R=e.a,W=e.u},e=>{X=e.P},null,null],execute:function(){const[l,ee,le]=o("picker"),te=e=>e.find((e=>!e.disabled))||e[0];function oe(e,l){for(let t=l=i(l,0,e.length);t<e.length;t++)if(!e[t].disabled)return t;for(let t=l-1;t>=0;t--)if(!e[t].disabled)return t;return 0}const ne=(e,l,t)=>void 0!==l&&!!e.find((e=>e[t.value]===l));function ae(e,l,t){const o=e.findIndex((e=>e[t.value]===l));return e[oe(e,o)]}const[ie,ue]=o("picker-column"),se=Symbol(ie);var ce=u({name:ie,props:{value:r,fields:s(Object),options:c(),readonly:Boolean,allowHtml:Boolean,optionHeight:s(Number),swipeDuration:s(r),visibleOptionNum:s(r)},emits:["change","clickOption","scrollInto"],setup(e,{emit:l,slots:t}){let o,n,a,u,s;const c=d(),r=d(),b=d(0),y=d(0),x=R(),k=()=>e.options.length,w=()=>e.optionHeight*(+e.visibleOptionNum-1)/2,C=t=>{let n=oe(e.options,t);const a=-n*e.optionHeight,i=()=>{n>k()-1&&(n=oe(e.options,t));const o=e.options[n][e.fields.value];o!==e.value&&l("change",o)};o&&a!==b.value?s=i:i(),b.value=a},V=()=>e.readonly||!e.options.length,O=l=>i(Math.round(-l/e.optionHeight),0,k()-1),H=v((()=>O(b.value))),S=()=>{o=!1,y.value=0,s&&(s(),s=null)},T=e=>{if(!V()){if(x.start(e),o){const e=function(e){const{transform:l}=window.getComputedStyle(e),t=l.slice(7,l.length-1).split(", ")[5];return Number(t)}(r.value);b.value=Math.min(0,e-w())}y.value=0,n=b.value,a=Date.now(),u=n,s=null}},j=()=>{if(V())return;const l=b.value-u,t=Date.now()-a;if(t<300&&Math.abs(l)>15)return void((l,t)=>{const o=Math.abs(l/t);l=b.value+o/.003*(l<0?-1:1);const n=O(l);y.value=+e.swipeDuration,C(n)})(l,t);const n=O(b.value);y.value=200,C(n),setTimeout((()=>{o=!1}),0)},D=()=>{const n={height:`${e.optionHeight}px`};return e.options.map(((a,i)=>{const u=a[e.fields.text],{disabled:c}=a,r=a[e.fields.value],d={role:"button",style:n,tabindex:c?-1:0,class:[ue("item",{disabled:c,selected:r===e.value}),a.className],onClick:()=>(t=>{o||V()||(s=null,y.value=200,C(t),l("clickOption",e.options[t]))})(i)},v={class:"van-ellipsis",[e.allowHtml?"innerHTML":"textContent"]:u};return h("li",d,[t.option?t.option(a,i):h("div",v,null)])}))};return m(se),W({stopMomentum:S}),p((()=>{const l=o?Math.floor(-b.value/e.optionHeight):e.options.findIndex((l=>l[e.fields.value]===e.value)),t=oe(e.options,l),n=-t*e.optionHeight;o&&t<l&&S(),b.value=n})),f("touchmove",(t=>{if(V())return;x.move(t),x.isVertical()&&(o=!0,g(t,!0));const s=i(n+x.deltaY.value,-k()*e.optionHeight,e.optionHeight),c=O(s);c!==H.value&&l("scrollInto",e.options[c]),b.value=s;const r=Date.now();r-a>300&&(a=r,u=s)}),{target:c}),()=>h("div",{ref:c,class:ue(),onTouchstartPassive:T,onTouchend:j,onTouchcancel:j},[h("ul",{ref:r,style:{transform:`translate3d(0, ${b.value+w()}px, 0)`,transitionDuration:`${y.value}ms`,transitionProperty:y.value?"all":"none"},class:ue("wrapper"),onTransitionend:S},[D()])])}});const[re]=o("picker-toolbar"),de={title:String,cancelButtonText:String,confirmButtonText:String},ve=["cancel","confirm","title","toolbar"],me=Object.keys(de);var pe=u({name:re,props:de,emits:["confirm","cancel"],setup(e,{emit:l,slots:t}){const o=()=>l("cancel"),n=()=>l("confirm"),a=()=>{var l;const n=null!=(l=e.cancelButtonText)?l:le("cancel");if(t.cancel||n)return h("button",{type:"button",class:[ee("cancel"),b],onClick:o},[t.cancel?t.cancel():n])},i=()=>{var l;const o=null!=(l=e.confirmButtonText)?l:le("confirm");if(t.confirm||o)return h("button",{type:"button",class:[ee("confirm"),b],onClick:n},[t.confirm?t.confirm():o])};return()=>h("div",{class:ee("toolbar")},[t.toolbar?t.toolbar():[a(),t.title?t.title():e.title?h("div",{class:[ee("title"),"van-ellipsis"]},[e.title]):void 0,i()]])}});const[fe,he]=o("picker-group"),ge=Symbol(fe);n({tabs:c(),activeTab:x(0),nextStepText:String,showToolbar:y},de);const be=n({loading:Boolean,readonly:Boolean,allowHtml:Boolean,optionHeight:x(44),showToolbar:y,swipeDuration:x(1e3),visibleOptionNum:x(6)},de),ye=n({},be,{columns:c(),modelValue:c(),toolbarPosition:S("top"),columnsFieldNames:Object});var xe=u({name:l,props:ye,emits:["confirm","cancel","change","scrollInto","clickOption","update:modelValue"],setup(e,{emit:l,slots:t}){const o=d(),i=d(e.modelValue.slice(0)),{parent:u}=m(ge),{children:s,linkChildren:c}=k(se);c();const r=v((()=>function(e){return n({text:"text",value:"value",children:"children"},e)}(e.columnsFieldNames))),p=v((()=>w(e.optionHeight))),b=v((()=>function(e,l){const t=e[0];if(t){if(Array.isArray(t))return"multiple";if(l.children in t)return"cascade"}return"default"}(e.columns,r.value))),y=v((()=>{const{columns:l}=e;switch(b.value){case"multiple":return l;case"cascade":return function(e,l,t){const o=[];let n={[l.children]:e},i=0;for(;n&&n[l.children];){const e=n[l.children],u=t.value[i];n=a(u)?ae(e,u,l):void 0,!n&&e.length&&(n=ae(e,te(e)[l.value],l)),i++,o.push(e)}return o}(l,r.value,i);default:return[l]}})),x=v((()=>y.value.some((e=>e.length)))),S=v((()=>y.value.map(((e,l)=>ae(e,i.value[l],r.value))))),D=v((()=>y.value.map(((e,l)=>e.findIndex((e=>e[r.value.value]===i.value[l])))))),I=(e,l)=>{if(i.value[e]!==l){const t=i.value.slice(0);t[e]=l,i.value=t}},_=()=>({selectedValues:i.value.slice(0),selectedOptions:S.value,selectedIndexes:D.value}),M=()=>{s.forEach((e=>e.stopMomentum()));const e=_();return V((()=>{l("confirm",e)})),e},N=()=>l("cancel",_()),B=()=>y.value.map(((o,a)=>h(ce,{value:i.value[a],fields:r.value,options:o,readonly:e.readonly,allowHtml:e.allowHtml,optionHeight:p.value,swipeDuration:e.swipeDuration,visibleOptionNum:e.visibleOptionNum,onChange:e=>((e,t)=>{I(t,e),"cascade"===b.value&&i.value.forEach(((e,l)=>{const t=y.value[l];ne(t,e,r.value)||I(l,t.length?t[0][r.value.value]:void 0)})),V((()=>{l("change",n({columnIndex:t},_()))}))})(e,a),onClickOption:e=>((e,t)=>{const o={columnIndex:t,currentOption:e};l("clickOption",n(_(),o)),l("scrollInto",o)})(e,a),onScrollInto:e=>{l("scrollInto",{currentOption:e,columnIndex:a})}},{option:t.option}))),z=e=>{if(x.value){const l={height:`${p.value}px`},t={backgroundSize:`100% ${(e-p.value)/2}px`};return[h("div",{class:ee("mask"),style:t},null),h("div",{class:[T,ee("frame")],style:l},null)]}},P=()=>{const l=p.value*+e.visibleOptionNum,n={height:`${l}px`};return e.loading||x.value||!t.empty?h("div",{ref:o,class:ee("columns"),style:n},[B(),z(l)]):t.empty()},$=()=>{if(e.showToolbar&&!u)return h(pe,H(O(e,me),{onConfirm:M,onCancel:N}),O(t,ve))};let A;return C(y,(e=>{e.forEach(((e,l)=>{e.length&&!ne(e,i.value[l],r.value)&&I(l,te(e)[r.value.value])}))}),{immediate:!0}),C((()=>e.modelValue),(e=>{j(e,i.value)||j(e,A)||(i.value=e.slice(0),A=e.slice(0))}),{deep:!0}),C(i,(t=>{j(t,e.modelValue)||(A=t.slice(0),l("update:modelValue",A))}),{immediate:!0}),f("touchmove",g,{target:o}),W({confirm:M,getSelectedOptions:()=>S.value}),()=>{var l,o;return h("div",{class:ee()},["top"===e.toolbarPosition?$():null,e.loading?h(Q,{class:ee("loading")},null):null,null==(l=t["columns-top"])?void 0:l.call(t),P(),null==(o=t["columns-bottom"])?void 0:o.call(t),"bottom"===e.toolbarPosition?$():null])}}});const ke=D(xe),[we,Ce]=o("switch"),Ve={size:r,loading:Boolean,disabled:Boolean,modelValue:I,activeColor:String,inactiveColor:String,activeValue:{type:I,default:!0},inactiveValue:{type:I,default:!1}};var Oe=u({name:we,props:Ve,emits:["change","update:modelValue"],setup(e,{emit:l,slots:t}){const o=()=>e.modelValue===e.activeValue,n=()=>{if(!e.disabled&&!e.loading){const t=o()?e.inactiveValue:e.activeValue;l("update:modelValue",t),l("change",t)}},a=()=>{if(e.loading){const l=o()?e.activeColor:e.inactiveColor;return h(Q,{class:Ce("loading"),color:l},null)}if(t.node)return t.node()};return _((()=>e.modelValue)),()=>{var l;const{size:i,loading:u,disabled:s,activeColor:c,inactiveColor:r}=e,d=o(),v={fontSize:M(i),backgroundColor:d?c:r};return h("div",{role:"switch",class:Ce({on:d,loading:u,disabled:s}),style:v,tabindex:s?void 0:0,"aria-checked":d,onClick:n},[h("div",{class:Ce("node")},[a()]),null==(l=t.background)?void 0:l.call(t)])}}});const He=D(Oe);e("default",u({__name:"index",setup(e){const l=N(),o=d(B.value);C((()=>B.value),(e=>{o.value=e}),{immediate:!0});const{t:n}=z(),a=d(!1),i=d([P.value]),u=v((()=>$.find((e=>e.value===P.value)).text));function s(e){P.value=e.selectedOptions[0].value,a.value=!1}const c=v((()=>[{title:n("home.mockGuide"),route:"mock"},{title:n("home.echartsDemo"),route:"charts"},{title:n("home.unocssExample"),route:"unocss"},{title:n("home.persistPiniaState"),route:"counter"},{title:n("home.404Demo"),route:"unknown"},{title:n("home.keepAlive"),route:"keepalive"}]));return(e,r)=>{const d=He,v=Z,m=ke,p=X,f=K,g=t;return E(),A(g,{"padding-x":0},{default:F((()=>[h(f,{inset:""},{default:F((()=>[h(v,{center:"",title:U(n)("home.darkMode")},{"right-icon":F((()=>[h(d,{modelValue:U(o),"onUpdate:modelValue":r[0]||(r[0]=e=>G(o)?o.value=e:null),size:"20px","aria-label":"on/off Dark Mode",onClick:r[1]||(r[1]=e=>(J(),void l.switchMode(B.value?"dark":"light")))},null,8,["modelValue"])])),_:1},8,["title"]),h(v,{"is-link":"",title:U(n)("home.language"),value:U(u),onClick:r[2]||(r[2]=e=>a.value=!0)},null,8,["title","value"]),h(p,{show:U(a),"onUpdate:show":r[5]||(r[5]=e=>G(a)?a.value=e:null),position:"bottom"},{default:F((()=>[h(m,{modelValue:U(i),"onUpdate:modelValue":r[3]||(r[3]=e=>G(i)?i.value=e:null),columns:U($),onConfirm:s,onCancel:r[4]||(r[4]=e=>a.value=!1)},null,8,["modelValue","columns"])])),_:1},8,["show"]),(E(!0),L(Y,null,q(U(c),(e=>(E(),A(v,{key:e.route,title:e.title,to:e.route,"is-link":""},null,8,["title","to"])))),128))])),_:1})])),_:1})}}}))}}}));
